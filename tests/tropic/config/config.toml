# Configuration Options for LaREST

# LOGGING -----------

[logging]
version = 1

[logging.formatters]

[logging.formatters.default]
format = "%(asctime)s:%(name)s:%(levelname)s:%(message)s"

[logging.handlers]

[logging.handlers.file]
class = "logging.FileHandler"
level = "DEBUG"
encoding = "utf-8"
filename = "larest.log"
formatter = "default"
mode = "a"

[logging.handlers.stream]
class = "logging.StreamHandler"
level = "DEBUG"
formatter = "default"

[logging.root]
handlers = ["file", "stream"]
level = "DEBUG" # [DEBUG, INFO]

# STEPS -------------

[steps]
rdkit = true
crest_confgen = true
censo = false
crest_entropy = false
xtb = true

# REACTION -------------

[reaction]
type = "RER" # ["RER", "ROR"]
lengths = [2, 3, 4] # lengths for RER
initiator = "C1=CC=C(C=C1)C(=O)O" # str
monomers = [ # list[str]
    "C=C1CCOC1=O", # 0
    "CC(C)(C)C1CCOC(=O)CC1", # 1
    "CC(C)(C)OC(=O)N1CCOC(=O)C1", # 2
    "CC(C)(C)OC(=O)N1C[C@H]2C[C@@H]1C(=O)S2", # 3
    "CC(C)C1CCOC(=O)CC1", # 4
    "CC(C)[C@@H]1CC[C@@H](C)CC(=O)O1", # 5
    "CC1(C)CCOC(=O)CC1", # 6
    "CC1(C)COC(=O)OC1", # 7
    "CC1(C)COC1=O", # 8
    "CC1(C)COC2(CCOC(=O)CC2)OC1", # 9
    "CC1(C)SCCSC1=O", # 10
    "CC1(C)[C@H]2CCC(=O)O[C@@H]1C2", # 11
    "CC1(c2ccccc2)COC(=O)OC1", # 12
    "CC1=CCC(=O)O1", # 13
    "CC1CC(=O)O1", # 14
    "CC1CCC(=O)OC1", # 15
    "CC1CCCC(=O)O1", # 16
    "CC1CCCOC1=O", # 17
    "CC1CCCSC(=S)S1", # 18
    "CC1CCCSC1=O", # 19
    "CC1CCOC(=O)C1", # 20
    "CC1CCOC(=O)CC1", # 21
    "CC1CCOC(=O)O1", # 22
    "CC1COC(=O)CC(C)C1", # 23
    "CC1OC(=O)C(C)OC1=O", # 24
    "CC1OC(=O)C(C)SC1=O", # 25
    "CC1OC(=O)CCOC(=O)C(C)OC(=O)CCOC1=O", # 26
    "CC1OCCC(=O)O1", # 27
    "CC1OCCOC1=O", # 28
    "CC1SC(=O)C(C)SC1=O", # 29
    "CC1SCCSC1=O", # 30
    "CCC1(CC)COC(=O)OC1", # 31
    "CCC1(c2ccccc2)COC(=O)OC1", # 32
    "CCC1CCCC(=O)O1", # 33
    "CCC1CCCOC1=O", # 34
    "CCC1CCOC(=O)CC1", # 35
    "CCCC1CCCC(=O)O1", # 36
    "CCCC1CCCOC1=O", # 37
    "CCCCC1CCCC(=O)O1", # 38
    "CCCCC1CCCOC1=O", # 39
    "CCCCCC1CCCC(=O)O1", # 40
    "CCCCCC1CCCOC1=O", # 41
    "CCCCCCC1CCCC(=O)O1", # 42
    "CCCCCCC1CCCOC1=O", # 43
    "CCCCCCCC1CCCC(=O)O1", # 44
    "CCCCCCCCCC1CCCC(=O)O1", # 45
    "C[C@@H]1CC(=O)O[C@@H]2CCCC[C@H]2O1", # 46
    "C[C@@H]1CC(=O)O[C@H]2CCCC[C@@H]2O1", # 47
    "C[C@@H]1CC(=O)O[C@H]2CCC[C@@H]2O1", # 48
    "C[C@@H]1OC(=O)[C@H](C)OC1=O", # 49
    "C[C@@H]1OCCCOC(=O)[C@H](C)OCCCOC1=O", # 50
    "Cc1cn([C@H]2C[C@H]3OC(=O)OC[C@H]3O2)c(=O)n(C)c1=O", # 51
    "O=C1CCC(=O)OC1", # 52
    "O=C1CCC2(CCO1)OCCCCO2", # 53
    "O=C1CCC2(CCO1)OCCCO2", # 54
    "O=C1CCC2(CCO1)OCCO2", # 55
    "O=C1CCCCCCCC/C=C/CCCCCO1", # 56
    "O=C1CCCCCCCCCCCCCCO1", # 57
    "O=C1CCCCCCCCCCCCO1", # 58
    "O=C1CCCCCCCCCCO1", # 59
    "O=C1CCCCCCCO1", # 60
    "O=C1CCCCCCO1", # 61
    "O=C1CCCCCN1", # 62
    "O=C1CCCCCO1", # 63
    "O=C1CCCCCS1", # 64
    "O=C1CCCCN1", # 65
    "O=C1CCCCO1", # 66
    "O=C1CCCCS1", # 67
    "O=C1CCCN1", # 68
    "O=C1CCCO1", # 69
    "O=C1CCO1", # 70
    "O=C1CN(Cc2ccccc2)CCO1", # 71
    "O=C1CN(c2ccccc2)CCO1", # 72
    "O=C1COC(=O)CO1", # 73
    "O=C1COCCO1", # 74
    "O=C1COCCOCCOCCOCCO1", # 75
    "O=C1COCCS1", # 76
    "O=C1CSCCO1", # 77
    "O=C1CSCCS1", # 78
    "O=C1C[C@@H]2CCCC[C@H]2O1", # 79
    "O=C1Cc2ccccc2CCO1", # 80
    "O=C1NC2CCC1C2", # 81
    "O=C1NC2CCCC1C2", # 82
    "O=C1OC2CCC1CC2", # 83
    "O=C1OCCCO1", # 84
    "O=C1OC[C@@H]2CCCC[C@@H]12", # 85
    "O=C1OC[C@H]2C[C@@H]3C=C[C@]12O3", # 86
    "O=C1OC[C@H]2C[C@@H]3CC[C@]12O3", # 87
    "O=C1O[C@H]2CC[C@@H]1CC2", # 88
    "S=C1CCCCCO1", # 89
    "S=C1O[C@H]2C=CCO[C@@H]2CS1", # 90
    "S=C1O[C@H]2CCCO[C@@H]2CS1", #  91
]
# RDKIT -------------

[rdkit]
n_cores = 128
n_conformers = 50 # TODO: need to decide on initial conformer no.
random_seed = 42
conformer_box_size = 2.0
precision = 6
mmff = "MMFF94"
mmff_iters = 200
align_iters = 50

# XTB -------------

[xtb]
[xtb.rdkit]
parallel = 128
ohess = "vtight"
etemp = 298.15
verbose = true
json = true
alpb = "toluene"
gfn = 2
acc = 1.0
iterations = 250

[xtb.crest]
parallel = 128
hess = true
etemp = 298.15
verbose = true
json = true
alpb = "toluene"
gfn = 2
acc = 0.25
iterations = 1000

# CREST -------------

[crest]
[crest.confgen]
# general
T = 128
niceprint = true
# runtype
v3 = true
# level of theory
gfn2 = true
alpb = "toluene"
optlev = "vtight"
# molecular dynamics
mdlen = "x1"
shake = 2
tstep = 5
mddump = 100
vbdump = 1
# conformational search
tnmd = 400
mrest = 5
maxflip = 100
keepdir = false
# ensemble sorting (CREGEN)
ewin = 6.0
rthr = 0.125
ethr = 0.05
bthr = 0.01
athr = 0.04
nmr = true
temp = 298.15

[crest.entropy]

# general
T = 128
niceprint = true
# runtype
entropy = true
# level of theory
gfnff = true
# gfn2 = true # WARN: takes very long time
alpb = "toluene"
optlev = "vtight"
# molecular dynamics
mdlen = "x1"
shake = 2
tstep = 5
mddump = 100
vbdump = 1
# conformational search
tnmd = 400
mrest = 5
maxflip = 100
keepdir = false
# entropy mode settings
scthr = 0.02
ssthr = 0.005
ptot = 0.9
fscal = 1.0
sthr = 25.0
ithr = -50.0
# ensemble sorting (CREGEN)
ewin = 6.0
rthr = 0.125
ethr = 0.05
bthr = 0.01
athr = 0.04
nmr = true
temp = 298.15

# CENSO -------------

[censo]

[censo.cli]
maxcores = 128

[censo.general]
imagthr = -100.0
sthr = 25.0 # changed to match CREST paper?
scale = 1.0
temperature = 298.15
solvent = "toluene"
sm_rrho = "alpb"
evaluate_rrho = true
consider_sym = true
bhess = true
rmsdbias = false
balance = true
gas-phase = false
copy_mo = true
retry_failed = true

[censo.prescreening]
run = true
threshold = 4.0
func = "pbe-d4"
basis = "def2-SV(P)"
prog = "orca"
gfnv = "gfn2"
template = false

[censo.screening]
run = true
threshold = 2.0
func = "r2scan-3c"
basis = "def2-TZVP"
prog = "orca"
sm = "smd"
gfnv = "gfn2"
implicit = true
template = false

[censo.optimization]
run = true
threshold = 0.0
macrocycles = true
optcycles = 4 # changed to help with runtime?
maxcyc = 100 # changed to help with runtime?
hlow = 0.01
gradthr = 0.01
func = "r2scan-3c"
basis = "def2-TZVP"
prog = "orca"
sm = "smd"
xtb_opt = true
gfnv = "gfn2"
optlevel = "normal"
template = false

[censo.refinement]
run = true
threshold = 0.0
func = "wb97x-v"
basis = "def2-TZVP"
prog = "orca"
sm = "smd"
gfnv = "gfn2"
implicit = true
template = false

[censo.nmr]
resonance_frequency = 300.0
ss_cutoff = 8.0
prog = "orca"
func_j = "pbe0-d4"
basis_j = "def2-tZVP"
sm_j = "smd"
func_s = "pbe0-d4"
basis_s = "def2-tZVP"
sm_s = "smd"
gfnv = "gfn2"
template = false
couplings = true
fc_only = true
shieldings = true
h_active = true
c_active = true
f_active = false
si_active = false
p_active = false
run = false # unnecessary?

[censo.uvvis]
prog = "orca"
func = "wb97x-d4"
basis = "def2-TZVP"
sm = "smd"
gfnv = "gfn2"
nroots = 20
template = false
run = false # unnecessary?

[censo.paths]
orcaversion = "6.1.0" # replace as necessary
